# env_proj
项目概述：本项目以STM32为下位机采集环境数据，RK3568开发板作为上位机服务器，使用QT编写客户端。使用阿里云实现通过客户端访问服务器获取下位机数据或设置其工作状态的功能。

技术栈：C/C++、Python、线程池、多进程、网络通信、QT、IO多路复用、Linux系统编程

底层数据采集：在STM32下使用SPI/I2C/单总线等协议对硬件模块进行驱动，实现数据采集以及多种对外通信方式。

上位机服务器：通过Epoll+线程池架构结合多进程/共享内存/条件变量处理多客户端连接以及线程资源管理。

阿里云中转站：使用阿里云物联网中的云产品流转等功能实现上下位机的通信，通过物模型实时监控环境系统。

可视化客户端：基于QT的Widget，PushButton等配合MySql以及Socket实现与服务器链接以及数据显示和设置功能。

文件夹说明：
1.serverlinux下为上位机服务器端程序，主要负责和阿里云和qt客户端进行通信，接收来自阿里云物联网下发的stm32下位机采集的环境数据，并且作为服务器等待qt客户端的连接，以epoll+线程池的结构来处理qt客户端的通信并完成信息的中转。
2.stm32负责下位机的工作，包括各类传感器数据的采集和数据组包，并通过串口转蓝牙和串口转esp32分别实现蓝牙控制下位机以及将信息通过mqtt协议上传到阿里云物模型的网站，可网站在线查看，也可以将数据流转到linux服务器。
3.tcpclient是使用qt编写的环境检测客户端，主要包含登录，注册，连接服务器，获取服务器并显示，对下位机的led，直流电机，舵机等器件进行控制等操作。
